(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-profile-changephone-changephone"],{3123:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t("f252"),a={data:function(){return{newPhone:""}},methods:{isMobile:function(n){return/^1[3-9]\d{9}$/.test(n)},changePhone:function(){if(0!=this.newPhone.length)if(this.isMobile(this.newPhone)){var e=uni.getStorageSync("user_info");(0,o.bindUserPhone)(e.username,this.newPhone).then((function(e){n.log(e),1==e.result.updated&&uni.showToast({title:"修改绑定成功",icon:"none"}),0==e.result.updated&&uni.showToast({title:"新旧手机号相同",icon:"none"})})).catch((function(e){n.log(e),uni.showToast({title:"修改绑定失败",icon:"none"})}))}else uni.showToast({title:"请输入正确手机号",icon:"none"});else uni.showToast({title:"请输入手机号",icon:"none"})}}};e.default=a}).call(this,t("5a52")["default"])},"31d3":function(n,e,t){var o=t("9c80");"string"===typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);var a=t("4f06").default;a("0972449a",o,!0,{sourceMap:!1,shadowMode:!1})},5956:function(n,e,t){"use strict";var o=t("31d3"),a=t.n(o);a.a},7508:function(n,e,t){"use strict";t.r(e);var o=t("3123"),a=t.n(o);for(var i in o)"default"!==i&&function(n){t.d(e,n,(function(){return o[n]}))}(i);e["default"]=a.a},8789:function(n,e,t){"use strict";t.r(e);var o=t("acb4"),a=t("7508");for(var i in a)"default"!==i&&function(n){t.d(e,n,(function(){return a[n]}))}(i);t("5956");var r,u=t("f0c5"),c=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,"93923afa",null,!1,o["a"],r);e["default"]=c.exports},"9c80":function(n,e,t){var o=t("24fb");e=o(!1),e.push([n.i,".content[data-v-93923afa]{padding:0 10%}.content .info[data-v-93923afa]{border:1px solid #ccc;height:%?80?%;margin:%?30?%;border-radius:%?40?%}.content .phone[data-v-93923afa]{padding-left:%?20?%;background-color:#e5f4fb}.content .change-phone[data-v-93923afa]{line-height:%?80?%;background-color:#65b0f7;color:#fff}",""]),n.exports=e},acb4:function(n,e,t){"use strict";var o;t.d(e,"b",(function(){return a})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return o}));var a=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("v-uni-view",{staticClass:"content"},[t("v-uni-input",{staticClass:"phone info",attrs:{type:"text",placeholder:"请输入新手机号"},model:{value:n.newPhone,callback:function(e){n.newPhone=e},expression:"newPhone"}}),t("v-uni-button",{staticClass:"change-phone info",attrs:{type:"default"},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.changePhone.apply(void 0,arguments)}}},[n._v("修改绑定手机")])],1)},i=[]},f252:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.bindUserPhone=e.updateUsersProfile=e.getUsersByGroup=void 0;var t=n.database(),o=t.collection("uni-id-users"),a=function(n){return o.where({group:n}).field("nickname").get()};e.getUsersByGroup=a;var i=function(n,e){return o.where({username:n}).update({avatarUrl:e.avatarUrl,wxname:e.wxName})};e.updateUsersProfile=i;var r=function(n,e){return o.where({username:n}).update({phonenum:e})};e.bindUserPhone=r}).call(this,t("a9ff")["default"])}}]);