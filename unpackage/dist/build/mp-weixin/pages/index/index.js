(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"4b37":function(n,t,e){},"55ea":function(n,t,e){"use strict";e.r(t);var o=e("c62b"),i=e.n(o);for(var c in o)"default"!==c&&function(n){e.d(t,n,(function(){return o[n]}))}(c);t["default"]=i.a},a076:function(n,t,e){"use strict";(function(n){e("2249");o(e("66fd"));var t=o(e("e266"));function o(n){return n&&n.__esModule?n:{default:n}}n(t.default)}).call(this,e("543d")["createPage"])},c62b:function(n,t,e){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(e("f1f5")),i=e("ed3f"),c=(e("5e63"),e("3f0a")),a=e("4d6b");function u(n){return n&&n.__esModule?n:{default:n}}var l=function(){Promise.all([e.e("common/vendor"),e.e("components/content/index/service/service")]).then(function(){return resolve(e("4a2b"))}.bind(null,e)).catch(e.oe)},r=function(){e.e("components/content/index/team/team").then(function(){return resolve(e("5d1d"))}.bind(null,e)).catch(e.oe)},s=function(){e.e("components/content/index/overview/overview").then(function(){return resolve(e("41d2"))}.bind(null,e)).catch(e.oe)},f=function(){e.e("components/content/index/analytics/analytics").then(function(){return resolve(e("ac16"))}.bind(null,e)).catch(e.oe)},m=function(){e.e("components/common/h5-header/h5-header").then(function(){return resolve(e("a9b9"))}.bind(null,e)).catch(e.oe)},d=function(){e.e("components/common/menu-item/menu-item").then(function(){return resolve(e("82c3"))}.bind(null,e)).catch(e.oe)},p={components:{Service:l,Team:r,Overview:s,Analytics:f,MenuItem:d,H5Header:m},data:function(){return{title:"Hello",analyticsInfo:{equipment:{id:1,width:"100rpx",title:"设备",type:"equipment",color:i.ANALYTICS_LINE_COLOR[0],count:0,unit:"台",iconClass:"icon-guanlianshebei"},polling:{id:2,width:"100rpx",title:"巡检",type:"polling",color:i.ANALYTICS_LINE_COLOR[1],count:0,unit:"次",iconClass:"icon-liucheng1"},alarm:{id:3,width:"100rpx",title:"告警",type:"alarm",color:i.ANALYTICS_LINE_COLOR[2],count:2,unit:"台",iconClass:"icon-jinggao"},fault:{id:4,width:"100rpx",title:"故障",type:"fault",color:i.ANALYTICS_LINE_COLOR[3],count:1,unit:"台",iconClass:"icon-yuanquyunwei"}},analyticsCount:{equipment:0,polling:0,fault:0,alarm:0},serviceInfo:[{id:"service",name:"服务台",img:"/static/img/telehpone.png"},{id:"network",name:"网络",img:"/static/img/network.png"},{id:"cloud",name:"云平台",img:"/static/img/cloud.png"},{id:"datacenter",name:"机房",img:"/static/img/datacenter.png"}]}},methods:{throwError:function(){throw console.log("Sentry Error2"),new Error("Sentry Error mantainer wxapp")},menuItemClick:function(t,e){console.log(t,e),n.navigateTo({url:t})},scan:function(){console.log("扫码"),n.scanCode({fail:function(t){n.showToast({title:"无效码",icon:"none",duration:1e3})},success:function(t){console.log("条码类型："+t.scanType),console.log("条码内容："+t.result);var e="",i="";"CODE_128"===t.scanType?i=t.result:"QR_CODE"===t.scanType&&(e=t.result.split("\n"),i=e.length>1?e[0].split(":")[1].trim():e[0].trim()),console.log("序列号",i),i?(0,c.getEquipmentBySerialNumber)(i).then((function(t){t.result.data.length>0?(o.default.commit("setEquipmentsInfo",t.result.data[0]),n.setStorageSync("equipmentsInfo",t.result.data[0]),n.setStorageSync("addEquipment",!1),n.navigateTo({url:"../common/equipments-info/equipments-info"})):n.showModal({title:"是否添加设备信息",content:"未查询到序列号".concat(i,"记录"),showCancel:!0,success:function(t){t.confirm?(n.setStorageSync("equipmentsInfo",{serial_number:i}),n.setStorageSync("addEquipment",!0),n.navigateTo({url:"../common/equipments-info/equipments-info"})):t.cancel}})})).catch((function(n){console.log("出错了",n)})):n.showToast({title:"未识别到序列号",icon:"none",duration:1e3})}})},btnClick:function(){console.log("点击"),n.navigateTo({url:"../datacenter/home/home",success:function(n){},fail:function(){},complete:function(){}})}},onLoad:function(){console.log("加载")},onShow:function(){var n=this;(0,c.getEquipmentCount)().then((function(t){console.log("设备数量",t.result.total),n.analyticsCount.equipment=t.result.total,o.default.commit("setAnalyticsCount",n.analyticsCount)})),(0,a.getEqPollingCount)().then((function(t){console.log("巡检次数",t.result.total),n.analyticsCount.polling=t.result.total,o.default.commit("setAnalyticsCount",n.analyticsCount)})),(0,a.getAlarmAndFaultCount)().then((function(t){console.log("告警故障数",t),t.result.data.forEach((function(t){"异常"==t.totality&&(n.analyticsCount.alarm=t.alarmCount,n.analyticsCount.fault=t.faultCount,o.default.commit("setAnalyticsCount",n.analyticsCount))}))}))}};t.default=p}).call(this,e("543d")["default"])},e266:function(n,t,e){"use strict";e.r(t);var o=e("e7f3"),i=e("55ea");for(var c in i)"default"!==c&&function(n){e.d(t,n,(function(){return i[n]}))}(c);e("eb2a");var a,u=e("f0c5"),l=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,"2a4777a0",null,!1,o["a"],a);t["default"]=l.exports},e7f3:function(n,t,e){"use strict";var o;e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return c})),e.d(t,"a",(function(){return o}));var i=function(){var n=this,t=n.$createElement;n._self._c},c=[]},eb2a:function(n,t,e){"use strict";var o=e("4b37"),i=e.n(o);i.a}},[[1,"common/runtime","common/vendor"]]]);